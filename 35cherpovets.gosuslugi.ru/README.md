# Архив сайта мэрии города Череповца

Архив сайта вместе с файлами `log` и `cdx` со всеми ссылками, а также база данных в формате `db` находятся в облачном хранилище `Google Disk` по [ссылке](https://drive.google.com/drive/folders/1uH1KuP8q3-gNsYItq9Zvz6l5vuZMpYCI).

## Результаты
![](https://github.com/rommap/archives_Vologda/blob/main/35cherpovets.gosuslugi.ru/Replay_Cherepovets.png)

Воспроизведение содержимого warc-файла в приложении `ReplayWeb.page` помогает понять, что функционал сайта удалось корректно сохранить. Большинство ссылок активны, в том числе и на pdf и doc файлы с документацией. Неаутентично воспроизводится меню, что по всей видимости, связано с реализацией взаимодействия с ним через встроенный `javascript`, а не с использованием субдомена. Не открываются также ссылки, ведущие на сторонние ресурсы.

## Извлечение метаданных
Метаданные анализировались с помощью следующих команд из библиотеки metawarc:
+ `analyze` - возвращает статистику с абсолютным и относительным числом и весом файлов каждого из типов, представленных в архиве
+ `metadata` - извлекает метаданные каждого файла архива в отдельный файл `digital_meta.jsonl`
+ `export` - извлекает заголовки HTTP, заголовки WARC или текстовое содержимое из архива в файл `headers.jsonl`

## Описание метаданных
`metawarc analyze 35cherepovets.gosuslugi.ru.warc.gz`

```
mimes                                                                      files        size          share
-----------------------------------------------------------------------  -------  ----------  -------------
application/zip                                                              768  2259645004   38.1352     
image/jpeg                                                                  3299  1527332001   25.7762     
text/html                                                                   5326   937580592   15.8232     
application/pdf                                                              831   854323943   14.4181     
application/msword                                                           321   127136449    2.14563    
application/vnd.openxmlformats-officedocument.wordprocessingml.document      497    84669545    1.42894    
application/vnd.ms-excel                                                      81    45850089    0.773795   
image/png                                                                     61    38519993    0.650088   
video/mp4                                                                      1    20618036    0.347963   
application/octet-stream                                                      71    10554877    0.178131   
text/css                                                                      32     7636327    0.128875      
application/vnd.openxmlformats-officedocument.spreadsheetml.sheet             77     5013379    0.0846089     
image/svg+xml                                                                142     3009669    0.0507931     
application/javascript                                                        23     1269644    0.0214273     
application/rtf                                                                2      612633    0.0103392     
text/xml                                                                       4      590795    0.00997063    
application/vnd.ms-fontobject                                                  5      483787    0.00816469    
font/woff                                                                      5      332131    0.00560525    
font/woff2                                                                     3      166480    0.00280962    
image/gif                                                                      1        8842    0.000149223   
text/plain                                                                     1         479    8.0839e-06    
#total                                                                     11551  5925354695  100

```

Как видно выше наибольшую долю в архиве имеет формат `zip`, в котором хранится различная документация, связанная, например, с городским бюджетом. Следующие по объему: картинки формата `jpeg`, разметка `html` и файлы `pdf`, что в целом, неудивительно для такого рода ресурсов. Также на сайте представлены данные в формате `javascript`, хоть и в незначительном объеме.

Подробнее с метаданными для разных типов данных можно ознакомиться в файлах `digital_meta.jsonl` и `headers.jsonl`.
